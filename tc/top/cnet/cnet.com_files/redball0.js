//mootools base javascript (moo.base.js), cnet.base.js, cnet.global.utils.js
//see readme.txt in parent directory for details
//dbugScripts - will include non-compressed versions of this code if "jsdebug=true" is in the url of this page,
//otherwise it will execute this code.
//example: dbugScripts("/the/location/of/my/scripts/",["script1.js","script2.js","etc"])
//returns true if scripts are included, otherwise false.
function dbugScripts(baseurl,libs){var value=document.cookie.match('(?:^|;)\\s*jsdebug=([^;]*)');var debugCookie=value?unescape(value[1]):false;if(window.location.href.indexOf("basePath=this")>0){var path=baseurl.substring(baseurl.substring(7,baseurl.length).indexOf("/")+8,baseurl.length);var href=window.location.href;baseurl=href.substring(href.substring(7,href.length).indexOf("/")+8,href.length)}if(window.location.href.indexOf("jsdebug=true")>0||window.location.href.indexOf("jsdebugCookie=true")>0||debugCookie=='true'){for(var i=0;i<libs.length;i++){document.write("<scri"+"pt src=\""+baseurl+libs[i]+"\" type=\"text/javascript\"></script>")}return true}return false};

if(!dbugScripts("http://c18-x-publish1.cnet.com:8100/html/rb/js/global/cat/",["redball.global.framework.js","Debugger.js"])){

/*	redball.global.framework.js - packed	*/
var dbug={logged:[],timers:{},firebug:false,debug:false,log:function(){dbug.logged.push(arguments)},nolog:function(msg){dbug.logged.push(arguments)},time:function(name){dbug.timers[name]=new Date().getTime()},timeEnd:function(name){if(dbug.timers[name]){var end=new Date().getTime()-dbug.timers[name];dbug.timers[name]=false;dbug.log('%s: %s',name,end)}else dbug.log('no such timer: %s',name)},enable:function(){if(dbug.firebug){try{dbug.debug=true;dbug.log=console.debug||console.log;dbug.time=console.time;dbug.timeEnd=console.timeEnd;dbug.log('enabling dbug');for(var i=0;i<dbug.logged.length;i++){dbug.log.apply(console,dbug.logged[i])}dbug.logged=[]}catch(e){dbug.enable.delay(400)}}},disable:function(){if(dbug.firebug)dbug.debug=false;dbug.log=dbug.nolog;dbug.time=function(){};dbug.timeEnd=function(){}},cookie:function(set){var value=document.cookie.match('(?:^|;)\\s*jsdebug=([^;]*)');var debugCookie=value?unescape(value[1]):false;if((debugCookie!='true'||set)&&!set){dbug.enable();dbug.log('setting debugging cookie');var date=new Date();date.setTime(date.getTime()+(24*60*60*1000));document.cookie='jsdebug=true;expires='+date.toGMTString()}else dbug.disableCookie()},disableCookie:function(){dbug.log('disabling debugging cookie');document.cookie='jsdebug=false'}};if(typeof console!="undefined"&&console.warn){dbug.firebug=true;var value=document.cookie.match('(?:^|;)\\s*jsdebug=([^;]*)');var debugCookie=value?unescape(value[1]):false;if(window.location.href.indexOf("jsdebug=true")>0||debugCookie=='true')dbug.enable();if(debugCookie=='true')dbug.log('debugging cookie enabled');if(window.location.href.indexOf("jsdebugCookie=true")>0){dbug.cookie();if(!dbug.debug)dbug.enable()}if(window.location.href.indexOf("jsdebugCookie=false")>0)dbug.disableCookie()}var Class=function(properties){var klass=function(){if(this.initialize&&$type(this.initialize)=='function')return this.initialize.apply(this,arguments);else return this};$extend(klass,this);klass.prototype=properties;return klass};Class.empty=function(){};Class.prototype={extend:function(properties){var proto=$merge(this.prototype);for(var property in properties){var pp=proto[property];proto[property]=$mergeClass(pp,properties[property])}return new Class(proto)},implement:function(properties){$extend(this.prototype,properties)}};function $type(obj){if(obj===null||obj===undefined)return false;var type=typeof obj;if(type=='object'){if(obj.htmlElement)return'element';if(obj.push)return'array';if(obj.nodeName){switch(obj.nodeType){case 1:return'element';case 3:return obj.nodeValue.test(/\S/)?'textnode':'whitespace'}}}return type};function $merge(){var mix={};for(var i=0;i<arguments.length;i++){for(var property in arguments[i]){var ap=arguments[i][property];var mp=mix[property];if(mp&&$type(ap)=='object'&&$type(mp)=='object')mix[property]=$merge(mp,ap);else mix[property]=ap}}return mix};function $mergeClass(previous,current){if(previous&&previous!=current){var ptype=$type(previous);var ctype=$type(current);if(ptype=='function'&&ctype=='function'){return function(){this.parent=previous;return current.apply(this,arguments)}}if(ptype=='object'&&ctype=='object')return $merge(previous,current)}return current};var $extend=Object.extend=function(){var args=arguments;if(!args[1])args=[this,args[0]];for(var property in args[1])args[0][property]=args[1][property];return args[0]};var $native=Object.Native=function(){for(var i=0;i<arguments.length;i++)arguments[i].extend=$native.extend};$native.extend=function(props){for(var prop in props){if(!this.prototype[prop])this.prototype[prop]=props[prop]}};$native(Function,Array,String,Number,Class);window.extend=document.extend=$extend;var Window=window;function $chk(obj){return!!(obj||obj===0)};function $pick(obj,picked){return($type(obj))?obj:picked};function $random(min,max){return Math.floor(Math.random()*(max-min+1)+min)};function $time(){return new Date().getTime()};function $clear(timer){clearTimeout(timer);clearInterval(timer);return null};if(window.ActiveXObject)window.ie=window[window.XMLHttpRequest?'ie7':'ie6']=true;else if(document.childNodes&&!document.all&&!navigator.taintEnabled)window.khtml=true;else if(document.getBoxObjectFor!=null)window.gecko=true;if(typeof HTMLElement=='undefined'){var HTMLElement=Class.empty;if(window.khtml)document.createElement("iframe");HTMLElement.prototype=(window.khtml)?window["[[DOMElement.prototype]]"]:{}}HTMLElement.prototype.htmlElement=true;if(window.ie6)try{document.execCommand("BackgroundImageCache",false,true)}catch(e){};Array.extend({forEach:function(fn,bind){for(var i=0,j=this.length;i<j;i++)fn.call(bind,this[i],i,this)},filter:function(fn,bind){var results=[];for(var i=0,j=this.length;i<j;i++){if(fn.call(bind,this[i],i,this))results.push(this[i])}return results},map:function(fn,bind){var results=[];for(var i=0,j=this.length;i<j;i++)results[i]=fn.call(bind,this[i],i,this);return results},every:function(fn,bind){for(var i=0,j=this.length;i<j;i++){if(!fn.call(bind,this[i],i,this))return false}return true},some:function(fn,bind){for(var i=0,j=this.length;i<j;i++){if(fn.call(bind,this[i],i,this))return true}return false},indexOf:function(item,from){from=from||0;var len=this.length;if(from<0)from=Math.max(0,len+from);while(from<len){if(this[from]===item)return from;from++}return-1},copy:function(start,length){start=start||0;if(start<0)start=this.length+start;length=length||(this.length-start);var newArray=[];for(var i=0;i<length;i++)newArray[i]=this[start++];return newArray},remove:function(item){var i=0;var len=this.length;while(i<len){if(this[i]===item)this.splice(i,1);else i++}return this},test:function(item,from){return this.indexOf(item,from)!=-1},extend:function(newArray){var pos=this.length;for(var i=0,j=newArray.length;i<j;i++)this[pos++]=newArray[i];return this},associate:function(keys){var obj={},length=Math.min(this.length,keys.length);for(var i=0;i<length;i++)obj[keys[i]]=this[i];return obj}});Array.prototype.each=Array.prototype.forEach;function $A(array,start,length){return Array.prototype.copy.call(array,start,length)};function $each(iterable,fn,bind){if(iterable.length)Array.prototype.forEach.call(iterable,fn,bind);else for(var name in iterable)fn.call(bind,iterable[name],name)};String.extend({test:function(regex,params){return((typeof regex=='string')?new RegExp(regex,params):regex).test(this)},toInt:function(){return parseInt(this)},toFloat:function(){return parseFloat(this)},camelCase:function(){return this.replace(/-\D/g,function(match){return match.charAt(1).toUpperCase()})},hyphenate:function(){return this.replace(/\w[A-Z]/g,function(match){return(match.charAt(0)+'-'+match.charAt(1).toLowerCase())})},capitalize:function(){return this.toLowerCase().replace(/\b[a-z]/g,function(match){return match.toUpperCase()})},trim:function(){return this.replace(/^\s+|\s+$/g,'')},clean:function(){return this.replace(/\s{2,}/g,' ').trim()},rgbToHex:function(array){var rgb=this.match(/\d{1,3}/g);return(rgb)?rgb.rgbToHex(array):false},hexToRgb:function(array){var hex=this.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);return(hex)?hex.slice(1).hexToRgb(array):false}});Array.extend({rgbToHex:function(array){if(this.length<3)return false;if(this[3]&&(this[3]==0)&&!array)return'transparent';var hex=[];for(var i=0;i<3;i++){var bit=(this[i]-0).toString(16);hex.push((bit.length==1)?'0'+bit:bit)}return array?hex:'#'+hex.join('')},hexToRgb:function(array){if(this.length!=3)return false;var rgb=[];for(var i=0;i<3;i++){rgb.push(parseInt((this[i].length==1)?this[i]+this[i]:this[i],16))}return array?rgb:'rgb('+rgb.join(',')+')'}});Number.extend({toInt:function(){return parseInt(this)},toFloat:function(){return parseFloat(this)}});Function.extend({create:function(options){var fn=this;options=$merge({'bind':fn,'event':false,'arguments':null,'delay':false,'periodical':false,'attempt':false},options);if($chk(options.arguments)&&$type(options.arguments)!='array')options.arguments=[options.arguments];return function(event){var args;if(options.event){event=event||window.event;args=[(options.event===true)?event:new options.event(event)];if(options.arguments)args=args.concat(options.arguments)}else args=options.arguments||arguments;var returns=function(){return fn.apply(options.bind,args)};if(options.delay)return setTimeout(returns,options.delay);if(options.periodical)return setInterval(returns,options.periodical);if(options.attempt){try{return returns()}catch(err){return err}}return returns()}},pass:function(args,bind){return this.create({'arguments':args,'bind':bind})},attempt:function(args,bind){return this.create({'arguments':args,'bind':bind,'attempt':true})()},bind:function(bind,args){return this.create({'bind':bind,'arguments':args})},bindAsEventListener:function(bind,args){return this.create({'bind':bind,'event':true,'arguments':args})},delay:function(ms,bind,args){return this.create({'delay':ms,'bind':bind,'arguments':args})()},periodical:function(ms,bind,args){return this.create({'periodical':ms,'bind':bind,'arguments':args})()}});var Element=new Class({initialize:function(el,props){if($type(el)=='string')el=document.createElement(el);el=$(el);if(!props||!el)return el;for(var prop in props){switch(prop){case'styles':el.setStyles(props[prop]);break;case'events':el.addEvents(props[prop]);break;case'attributes':el.setProperties(props[prop]);break;default:el.setProperty(prop,props[prop])}}return el}});function $(el){if(!el)return false;if(el.htmlElement||[window,document].test(el))return el;if($type(el)=='string')el=document.getElementById(el);if($type(el)!='element')return false;if(['object','embed'].test(el.tagName.toLowerCase()))return el;Garbage.collect(el);$extend(el,Element.prototype);el.htmlElement=true;return el};var Elements=new Class({});$native(Elements);document.getElementsBySelector=document.getElementsByTagName;function $$(){if(!arguments)return false;var elements=[];for(var i=0,j=arguments.length;i<j;i++){var selector=arguments[i];switch($type(selector)){case'element':elements.push($(selector));break;case'string':selector=document.getElementsBySelector(selector,true);default:if(selector.length){for(var k=0,l=selector.length;k<l;k++){var el=$(selector[k]);if(el)elements.push(el)}}}}return $extend(elements,new Elements)};Elements.Multi=function(property){return function(){var args=arguments;var items=[];var elements=true;$each(this,function(el){var returns=el[property].apply(el,args);if($type(returns)!='element')elements=false;items.push(returns)});if(elements)items=$$(items);return items}};Element.extend=function(properties){for(var property in properties){HTMLElement.prototype[property]=properties[property];Element.prototype[property]=properties[property];Elements.prototype[property]=Elements.Multi(property)}};Element.extend({inject:function(el,where){$(el);switch(where){case"before":$(el.parentNode).insertBefore(this,el);break;case"after":if(!el.getNext())$(el.parentNode).appendChild(this);else $(el.parentNode).insertBefore(this,el.getNext());break;case"inside":el.appendChild(this)}return this},injectBefore:function(el){return this.inject(el,'before')},injectAfter:function(el){return this.inject(el,'after')},injectInside:function(el){return this.inject(el,'inside')},adopt:function(){$$(arguments).each(function(el){this.appendChild(el)},this);return this},remove:function(){this.parentNode.removeChild(this);return this},clone:function(contents){var el=this.cloneNode(contents!==false);return $(el)},replaceWith:function(el){$(el);this.parentNode.replaceChild(el,this);return el},appendText:function(text){if(window.ie){switch(this.getTag()){case'style':this.styleSheet.cssText=text;return this;case'script':this.setProperty('text',text);return this}}this.appendChild(document.createTextNode(text));return this},hasClass:function(className){return this.className.test('(?:^|\\s)'+className+'(?:\\s|$)')},addClass:function(className){if(!this.hasClass(className))this.className=(this.className+' '+className).clean();return this},removeClass:function(className){this.className=this.className.replace(new RegExp('(^|\\s)'+className+'(?:\\s|$)'),'$1').clean();return this},toggleClass:function(className){return this.hasClass(className)?this.removeClass(className):this.addClass(className)},setStyle:function(property,value){switch(property){case'opacity':return this.setOpacity(parseFloat(value));case'float':property=(window.ie)?'styleFloat':'cssFloat'}this.style[property.camelCase()]=(value.push)?'rgb('+value.join(',')+')':value;return this},setStyles:function(source){switch($type(source)){case'object':for(var property in source)this.setStyle(property,source[property]);break;case'string':this.style.cssText=source}return this},setOpacity:function(opacity){if(opacity==0){if(this.style.visibility!="hidden")this.style.visibility="hidden"}else{if(this.style.visibility!="visible")this.style.visibility="visible"}if(!this.currentStyle||!this.currentStyle.hasLayout)this.style.zoom=1;if(window.ie)this.style.filter="alpha(opacity="+opacity*100+")";this.style.opacity=this.opacity=opacity;return this},getStyle:function(property){property=property.camelCase();var style=this.style[property];if(!$chk(style)){if(property=='opacity')return $chk(this.opacity)?this.opacity:1;if(['margin','padding'].test(property)){var result=[];['top','right','bottom','left'].each(function(prop){result.push(this.getStyle(property+'-'+prop)||'0')},this);var every=result.every(function(val){return val==result[0]});return(every)?result[0]:result}if(document.defaultView)style=document.defaultView.getComputedStyle(this,null).getPropertyValue(property.hyphenate());else if(this.currentStyle)style=this.currentStyle[property]}if(style=='auto'&&['height','width'].test(property))return this['offset'+property.capitalize()]+'px';return(style&&property.test(/color/i)&&style.test(/rgb/))?style.rgbToHex():style},getStyles:function(){var result={};$each(arguments,function(argument){result[argument]=this.getStyle(argument)},this);return result},addEvent:function(type,fn){this.events=this.events||{};this.events[type]=this.events[type]||{'keys':[],'values':[]};if(!this.events[type].keys.test(fn)){this.events[type].keys.push(fn);if(this.addEventListener){this.addEventListener((type=='mousewheel'&&window.gecko)?'DOMMouseScroll':type,fn,false)}else{fn=fn.bind(this);this.attachEvent('on'+type,fn);this.events[type].values.push(fn)}}return this},addEvents:function(source){if(source){for(var type in source)this.addEvent(type,source[type])}return this},removeEvent:function(type,fn){if(this.events&&this.events[type]){var pos=this.events[type].keys.indexOf(fn);if(pos==-1)return this;var key=this.events[type].keys.splice(pos,1)[0];if(this.removeEventListener){this.removeEventListener((type=='mousewheel'&&window.gecko)?'DOMMouseScroll':type,key,false)}else{this.detachEvent('on'+type,this.events[type].values.splice(pos,1)[0])}}return this},removeEvents:function(type){if(this.events){if(type){if(this.events[type]){this.events[type].keys.each(function(fn){this.removeEvent(type,fn)},this);this.events[type]=null}}else{for(var evType in this.events)this.removeEvents(evType);this.events=null}}return this},fireEvent:function(type,args){if(this.events&&this.events[type]){this.events[type].keys.each(function(fn){fn.bind(this,args)()},this)}},getBrother:function(what){var el=this[what+'Sibling'];while($type(el)=='whitespace')el=el[what+'Sibling'];return $(el)},getPrevious:function(){return this.getBrother('previous')},getNext:function(){return this.getBrother('next')},getFirst:function(){var el=this.firstChild;while($type(el)=='whitespace')el=el.nextSibling;return $(el)},getLast:function(){var el=this.lastChild;while($type(el)=='whitespace')el=el.previousSibling;return $(el)},getParent:function(){return $(this.parentNode)},getChildren:function(){return $$(this.childNodes)},setProperty:function(property,value){switch(property){case'class':this.className=value;break;case'style':this.setStyles(value);break;case'name':if(window.ie6){var el=$(document.createElement('<'+this.getTag()+' name="'+value+'" />'));$each(this.attributes,function(attribute){if(attribute.name!='name')el.setProperty(attribute.name,attribute.value)});if(this.parentNode)this.replaceWith(el);return el}default:this.setAttribute(property,value)}return this},setProperties:function(source){for(var property in source)this.setProperty(property,source[property]);return this},setHTML:function(){this.innerHTML=$A(arguments).join('');return this},getProperty:function(property){return(property=='class')?this.className:this.getAttribute(property)},getTag:function(){return this.tagName.toLowerCase()},scrollTo:function(x,y){this.scrollLeft=x;this.scrollTop=y},getValue:function(){switch(this.getTag()){case'select':var values=[];$each(this.options,function(opt){if(opt.selected)values.push((opt.value!==null)?opt.value:opt.text)});return(this.multiple)?values:values[0];case'input':if(!(this.checked&&['checkbox','radio'].test(this.type))&&!['hidden','text','password'].test(this.type))break;case'textarea':return this.value}return false},getSize:function(){return{'scroll':{'x':this.scrollLeft,'y':this.scrollTop},'size':{'x':this.offsetWidth,'y':this.offsetHeight},'scrollSize':{'x':this.scrollWidth,'y':this.scrollHeight}}},getPosition:function(overflown){overflown=overflown||[];var el=this,left=0,top=0;do{left+=el.offsetLeft||0;top+=el.offsetTop||0;el=el.offsetParent}while(el);overflown.each(function(element){left-=element.scrollLeft||0;top-=element.scrollTop||0});return{'x':left,'y':top}},getTop:function(){return this.getPosition().y},getLeft:function(){return this.getPosition().x},getCoordinates:function(overflown){var position=this.getPosition(overflown);var obj={'width':this.offsetWidth,'height':this.offsetHeight,'left':position.x,'top':position.y};obj.right=obj.left+obj.width;obj.bottom=obj.top+obj.height;return obj}});window.addEvent=document.addEvent=Element.prototype.addEvent;window.removeEvent=document.removeEvent=Element.prototype.removeEvent;window.removeEvents=document.removeEvents=Element.prototype.removeEvents;var Garbage={elements:[],collect:function(element){Garbage.elements.push(element)},trash:function(){Garbage.collect(window);Garbage.collect(document);Garbage.elements.each(function(el){try{el.removeEvents();for(var p in Element.prototype)el[p]=null;el.extend=null}catch(e){}})}};window.addEvent('unload',Garbage.trash);var Event=new Class({initialize:function(event){this.event=event||window.event;this.type=this.event.type;this.target=this.event.target||this.event.srcElement;if(this.target.nodeType==3)this.target=this.target.parentNode;this.shift=this.event.shiftKey;this.control=this.event.ctrlKey;this.alt=this.event.altKey;this.meta=this.event.metaKey;if(['DOMMouseScroll','mousewheel'].test(this.type)){this.wheel=this.event.wheelDelta?(this.event.wheelDelta/(window.opera?-120:120)):-(this.event.detail||0)/3}else if(this.type.test(/key/)){this.code=this.event.which||this.event.keyCode;for(var name in Event.keys){if(Event.keys[name]==this.code){this.key=name;break}}var fKey=this.code-111;if(fKey>0&&fKey<13)this.key='f'+fKey;this.key=this.key||String.fromCharCode(this.code).toLowerCase()}else if(this.type.test(/mouse/)||(this.type=='click')){this.page={'x':this.event.pageX||this.event.clientX+document.documentElement.scrollLeft,'y':this.event.pageY||this.event.clientY+document.documentElement.scrollTop};this.client={'x':this.event.pageX?this.event.pageX-window.pageXOffset:this.event.clientX,'y':this.event.pageY?this.event.pageY-window.pageYOffset:this.event.clientY};this.rightClick=(this.event.which==3)||(this.event.button==2);switch(this.type){case'mouseover':this.relatedTarget=this.event.relatedTarget||this.event.fromElement;break;case'mouseout':this.relatedTarget=this.event.relatedTarget||this.event.toElement}}},stop:function(){this.stopPropagation();this.preventDefault();return this},stopPropagation:function(){if(this.event.stopPropagation)this.event.stopPropagation();else this.event.cancelBubble=true;return this},preventDefault:function(){if(this.event.preventDefault)this.event.preventDefault();else this.event.returnValue=false;return this}});Event.keys={'enter':13,'up':38,'down':40,'left':37,'right':39,'esc':27,'space':32,'backspace':8,'delete':46};Function.extend({bindWithEvent:function(bind,args){return this.create({'bind':bind,'arguments':args,'event':Event})}});var Chain=new Class({chain:function(fn){this.chains=this.chains||[];this.chains.push(fn);return this},callChain:function(){if(this.chains&&this.chains.length)this.chains.shift().delay(10,this)},clearChain:function(){this.chains=[]}});var Events=new Class({addEvent:function(type,fn){if(fn!=Class.empty){this.events=this.events||{};this.events[type]=this.events[type]||[];if(!this.events[type].test(fn))this.events[type].push(fn)}return this},fireEvent:function(type,args,delay){if(this.events&&this.events[type]){this.events[type].each(function(fn){fn.create({'bind':this,'delay':delay,'arguments':args})()},this)}return this},removeEvent:function(type,fn){if(this.events&&this.events[type])this.events[type].remove(fn);return this}});var Options=new Class({setOptions:function(){var args=(arguments.length==1)?[this.options,arguments[0]]:arguments;this.options=$merge.apply(this,args);if(this.addEvent){for(var option in this.options){if(($type(this.options[option])=='function')&&option.test(/^on[A-Z]/))this.addEvent(option,this.options[option])}}return this}});var Group=new Class({initialize:function(){this.instances=$A(arguments);this.events={};this.checker={}},addEvent:function(type,fn){this.checker[type]=this.checker[type]||{};this.events[type]=this.events[type]||[];if(this.events[type].test(fn))return false;else this.events[type].push(fn);this.instances.each(function(instance,i){instance.addEvent(type,this.check.bind(this,[type,instance,i]))},this);return this},check:function(type,instance,i){this.checker[type][i]=true;var every=this.instances.every(function(current,j){return this.checker[type][j]||false},this);if(!every)return;this.instances.each(function(current,j){this.checker[type][j]=false},this);this.events[type].each(function(event){event.call(this,this.instances,instance)},this)}});function $E(selector,filter){return($(filter)||document).getElement(selector)};function $ES(selector,filter){return($(filter)||document).getElementsBySelector(selector)};Element.extend({getElements:function(selector,nocash){var items=[];var xpath=(document.evaluate)?true:false;selector=selector.clean().split(' ');for(var i=0,j=selector.length;i<j;i++){var sel=selector[i];var param=sel.match(/^(\w*|\*)(?:#([\w-]+)|\.([\w-]+))?(?:\[(\w+)(?:([!*^$]?=)["']?([^"'\]]*)["']?)?])?$/);if(!param)break;param[1]=(param[1])?param[1].toLowerCase():'*';if(xpath){var temp=[param[1]];if(param[2])temp.push('[@id="',param[2],'"]');if(param[3])temp.push('[contains(concat(" ", @class, " "), " ',param[3],' ")]');if(param[4]){if(param[5]&&param[6]){switch(param[5]){case'*=':temp.push('[contains(@',param[4],', "',param[6],'")]');break;case'^=':temp.push('[starts-with(@',param[4],', "',param[6],'")]');break;case'$=':temp.push('[substring(@',param[4],', string-length(@',param[4],') - ',param[6].length,' + 1) = "',param[6],'"]');break;case'=':temp.push('[@',param[4],'="',param[6],'"]');break;case'!=':temp.push('[@',param[4],'!="',param[6],'"]')}}else temp.push('[@',param[4],']')}items.push(temp.join(''));continue}Filters.selector=param;if(i==0){if(param[2]){var el=this.getElementById(param[2]);if(!el||((param[1]!='*')&&(Element.prototype.getTag.call(el)!=param[1])))break;items=[el]}else{items=$A(this.getElementsByTagName(param[1]))}}else{items=Elements.prototype.getElementsByTagName.call(items,param[1],true);if(param[2])items=items.filter(Filters.id)}if(param[3])items=items.filter(Filters.className);if(param[4])items=items.filter(Filters.attribute)}if(xpath)items=this.getElementsByXpath(items.join('//'));return(nocash)?items:$$(items)},getElementsByXpath:function(xp){var result=[];var xpath=document.evaluate('.//'+xp,this,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(var i=0,j=xpath.snapshotLength;i<j;i++)result.push(xpath.snapshotItem(i));return result},getElementById:function(id){var el=document.getElementById(id);if(!el)return false;for(var parent=el.parentNode;parent!=this;parent=parent.parentNode){if(!parent)return false}return el},getElement:function(selector){return this.getElementsBySelector(selector)[0]},getElementsBySelector:function(selector,nocash){var els=[];var sel=selector.split(',');for(var i=0,j=sel.length;i<j;i++){els.extend(this.getElements(sel[i],true))}return(nocash)?els:$$(els)}});document.extend({getElementsByClassName:function(className){return document.getElements('.'+className)},getElement:Element.prototype.getElement,getElements:Element.prototype.getElements,getElementsBySelector:Element.prototype.getElementsBySelector,getElementsByXpath:Element.prototype.getElementsByXpath});var Filters={selector:[],id:function(el){return(el.id==Filters.selector[2])},className:function(el){return(Element.prototype.hasClass.call(el,Filters.selector[3]))},attribute:function(el){var current=el.getAttribute(Filters.selector[4]);if(!current)return false;var operator=Filters.selector[5];if(!operator)return true;var value=Filters.selector[6];switch(operator){case'=':return(current==value);case'*=':return(current.test(value));case'^=':return(current.test('^'+value));case'$=':return(current.test(value+'$'));case'!=':return(current!=value)}return false}};Elements.extend({getElementsByTagName:function(tagName){var found=[];for(var i=0,j=this.length;i<j;i++)found.extend(this[i].getElementsByTagName(tagName));return found}});var Hash=new Class({length:0,initialize:function(obj){this.obj={};this.extend(obj)},get:function(key){return this.obj[key]},hasKey:function(key){return this.obj[key]!==undefined},set:function(key,value){if(value===undefined)return false;if(this.obj[key]===undefined)this.length++;this.obj[key]=value;return this},remove:function(key){if(this.obj[key]===undefined)return this;var obj={};this.length--;for(var property in this.obj){if(property!=key)obj[property]=this.obj[property]}this.obj=obj;return this},each:function(fn,bind){for(var property in this.obj)fn.call(bind||this,property,this.obj[property])},extend:function(obj){for(var property in obj){if(this.obj[property]===undefined)this.length++;this.obj[property]=obj[property]}return this},empty:function(){return(this.length==0)},keys:function(){var keys=[];for(var property in this.obj)keys.push(property);return keys},values:function(){var values=[];for(var property in this.obj)values.push(this.obj[property]);return values}});function $H(obj){return new Hash(obj)};var Color=new Class({initialize:function(color,type){if(color.isColor)return color;color.isColor=true;type=type||(color.push?'rgb':'hex');var rgb,hsb;switch(type){case'rgb':rgb=color;hsb=rgb.rgbToHsb();break;case'hsb':rgb=color.hsbToRgb();hsb=color;break;default:rgb=color.hexToRgb(true);hsb=rgb.rgbToHsb()}rgb.hsb=hsb;return $extend(rgb,Color.prototype)},mix:function(){var colors=$A(arguments);var alpha=($type(colors[colors.length-1])=='number')?colors.pop():50;var rgb=this.copy();colors.each(function(color){color=new Color(color);for(var i=0;i<3;i++)rgb[i]=Math.round((rgb[i]/100*(100-alpha))+(color[i]/100*alpha))});return new Color(rgb,'rgb')},invert:function(){return new Color(this.map(function(value){return 255-value}))},setHue:function(value){return new Color([value,this.hsb[1],this.hsb[2]],'hsb')},setSaturation:function(percent){return new Color([this.hsb[0],percent,this.hsb[2]],'hsb')},setBrightness:function(percent){return new Color([this.hsb[0],this.hsb[1],percent],'hsb')}});function $RGB(r,g,b){return new Color([r,g,b],'rgb')};function $HSB(h,s,b){return new Color([h,s,b],'hsb')};Array.extend({rgbToHsb:function(){var red=this[0],green=this[1],blue=this[2];var hue,saturation,brightness;var max=Math.max(red,green,blue),min=Math.min(red,green,blue);var delta=max-min;brightness=max/255;saturation=(max!=0)?delta/max:0;if(saturation==0){hue=0}else{var rr=(max-red)/delta;var gr=(max-green)/delta;var br=(max-blue)/delta;if(red==max)hue=br-gr;else if(green==max)hue=2+rr-br;else hue=4+gr-rr;hue/=6;if(hue<0)hue++}return[Math.round(hue*360),Math.round(saturation*100),Math.round(brightness*100)]},hsbToRgb:function(){var br=Math.round(this[2]/100*255);if(this[1]==0){return[br,br,br]}else{var hue=this[0]%360;var f=hue%60;var p=Math.round((this[2]*(100-this[1]))/10000*255);var q=Math.round((this[2]*(6000-this[1]*f))/600000*255);var t=Math.round((this[2]*(6000-this[1]*(60-f)))/600000*255);switch(Math.floor(hue/60)){case 0:return[br,t,p];case 1:return[q,br,p];case 2:return[p,br,t];case 3:return[p,q,br];case 4:return[t,p,br];case 5:return[br,p,q]}}return false}});window.extend({addEvent:function(type,fn){if(type=='domready'){if(this.loaded)fn();else if(!this.events||!this.events.domready){var domReady=function(){if(this.loaded)return;this.loaded=true;if(this.timer)this.timer=$clear(this.timer);Element.prototype.fireEvent.call(this,'domready');this.events.domready=null}.bind(this);if(document.readyState&&this.khtml){this.timer=function(){if(['loaded','complete'].test(document.readyState))domReady()}.periodical(50)}else if(document.readyState&&this.ie){document.write("<script id=ie_ready defer src=javascript:void(0)><\/script>");$('ie_ready').onreadystatechange=function(){if(this.readyState=='complete')domReady()}}else{this.addEvent("load",domReady);document.addEvent("DOMContentLoaded",domReady)}}}Element.prototype.addEvent.call(this,type,fn);return this},onDomReady:function(init){return this.addEvent('domready',init)}});window.extend({getWidth:function(){if(this.khtml)return this.innerWidth;if(this.opera)return document.body.clientWidth;return document.documentElement.clientWidth},getHeight:function(){if(this.khtml)return this.innerHeight;if(this.opera)return document.body.clientHeight;return document.documentElement.clientHeight},getScrollWidth:function(){if(this.ie)return Math.max(document.documentElement.offsetWidth,document.documentElement.scrollWidth);if(this.khtml)return document.body.scrollWidth;return document.documentElement.scrollWidth},getScrollHeight:function(){if(this.ie)return Math.max(document.documentElement.offsetHeight,document.documentElement.scrollHeight);if(this.khtml)return document.body.scrollHeight;return document.documentElement.scrollHeight},getScrollLeft:function(){return this.pageXOffset||document.documentElement.scrollLeft},getScrollTop:function(){return this.pageYOffset||document.documentElement.scrollTop},getSize:function(){return{'size':{'x':this.getWidth(),'y':this.getHeight()},'scrollSize':{'x':this.getScrollWidth(),'y':this.getScrollHeight()},'scroll':{'x':this.getScrollLeft(),'y':this.getScrollTop()}}},getPosition:function(){return{'x':0,'y':0}}});var Fx={};Fx.Transitions={linear:function(t,b,c,d){return c*t/d+b},sineInOut:function(t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b}};Fx.Base=new Class({options:{onStart:Class.empty,onComplete:Class.empty,onCancel:Class.empty,transition:Fx.Transitions.sineInOut,duration:500,unit:'px',wait:true,fps:50},initialize:function(options){this.element=this.element||null;this.setOptions(options);if(this.options.initialize)this.options.initialize.call(this)},step:function(){var time=$time();if(time<this.time+this.options.duration){this.cTime=time-this.time;this.setNow();this.increase()}else{this.stop(true);this.now=this.to;this.increase();this.fireEvent('onComplete',this.element,10);this.callChain()}},set:function(to){this.now=to;this.increase();return this},setNow:function(){this.now=this.compute(this.from,this.to)},compute:function(from,to){return this.options.transition(this.cTime,from,(to-from),this.options.duration)},start:function(from,to){if(!this.options.wait)this.stop();else if(this.timer)return this;this.from=from;this.to=to;this.time=$time();this.timer=this.step.periodical(Math.round(1000/this.options.fps),this);this.fireEvent('onStart',this.element);return this},stop:function(end){if(!this.timer)return this;this.timer=$clear(this.timer);if(!end)this.fireEvent('onCancel',this.element);return this},custom:function(from,to){return this.start(from,to)},clearTimer:function(end){return this.stop(end)}});Fx.Base.implement(new Chain);Fx.Base.implement(new Events);Fx.Base.implement(new Options);Fx.CSS={select:function(property,to){if(property.test(/color/i))return this.Color;if(to.test&&to.test(' '))return this.Multi;return this.Single},parse:function(el,property,fromTo){if(!fromTo.push)fromTo=[fromTo];var from=fromTo[0],to=fromTo[1];if(!to&&to!=0){to=from;from=el.getStyle(property)}var css=this.select(property,to);return{from:css.parse(from),to:css.parse(to),css:css}}};Fx.CSS.Single={parse:function(value){return parseFloat(value)},getNow:function(from,to,fx){return fx.compute(from,to)},getValue:function(value,unit){return value+unit}};Fx.CSS.Multi={parse:function(value){return value.push?value:value.split(' ').map(function(v){return parseFloat(v)})},getNow:function(from,to,fx){var now=[];for(var i=0;i<from.length;i++)now[i]=fx.compute(from[i],to[i]);return now},getValue:function(value,unit){return value.join(unit+' ')+unit}};Fx.CSS.Color={parse:function(value){return value.push?value:value.hexToRgb(true)},getNow:function(from,to,fx){var now=[];for(var i=0;i<from.length;i++)now[i]=Math.round(fx.compute(from[i],to[i]));return now},getValue:function(value){return'rgb('+value.join(',')+')'}};Fx.Style=Fx.Base.extend({initialize:function(el,property,options){this.element=$(el);this.property=property;this.parent(options)},hide:function(){return this.set(0)},setNow:function(){this.now=this.css.getNow(this.from,this.to,this)},set:function(to){this.css=Fx.CSS.select(this.property,to);return this.parent(this.css.parse(to))},start:function(from,to){if(this.timer&&this.options.wait)return this;var parsed=Fx.CSS.parse(this.element,this.property,[from,to]);this.css=parsed.css;return this.parent(parsed.from,parsed.to)},increase:function(){this.element.setStyle(this.property,this.css.getValue(this.now,this.options.unit))}});Element.extend({effect:function(property,options){return new Fx.Style(this,property,options)}});Fx.Styles=Fx.Base.extend({initialize:function(el,options){this.element=$(el);this.parent(options)},setNow:function(){for(var p in this.from)this.now[p]=this.css[p].getNow(this.from[p],this.to[p],this)},set:function(to){var parsed={};this.css={};for(var p in to){this.css[p]=Fx.CSS.select(p,to[p]);parsed[p]=this.css[p].parse(to[p])}return this.parent(parsed)},start:function(obj){if(this.timer&&this.options.wait)return this;this.now={};this.css={};var from={},to={};for(var p in obj){var parsed=Fx.CSS.parse(this.element,p,obj[p]);from[p]=parsed.from;to[p]=parsed.to;this.css[p]=parsed.css}return this.parent(from,to)},increase:function(){for(var p in this.now)this.element.setStyle(p,this.css[p].getValue(this.now[p],this.options.unit))}});Element.extend({effects:function(options){return new Fx.Styles(this,options)}});Fx.Elements=Fx.Base.extend({initialize:function(elements,options){this.elements=$$(elements);this.parent(options)},setNow:function(){for(var i in this.from){var iFrom=this.from[i],iTo=this.to[i],iCss=this.css[i],iNow=this.now[i]={};for(var p in iFrom)iNow[p]=iCss[p].getNow(iFrom[p],iTo[p],this)}},set:function(to){var parsed={};this.css={};for(var i in to){var iTo=to[i],iCss=this.css[i]={},iParsed=parsed[i]={};for(var p in iTo){iCss[p]=Fx.CSS.select(p,iTo[p]);iParsed[p]=iCss[p].parse(iTo[p])}}return this.parent(parsed)},start:function(obj){if(this.timer&&this.options.wait)return this;this.now={};this.css={};var from={},to={};for(var i in obj){var iProps=obj[i],iFrom=from[i]={},iTo=to[i]={},iCss=this.css[i]={};for(var p in iProps){var parsed=Fx.CSS.parse(this.elements[i],p,iProps[p]);iFrom[p]=parsed.from;iTo[p]=parsed.to;iCss[p]=parsed.css}}return this.parent(from,to)},increase:function(){for(var i in this.now){var iNow=this.now[i],iCss=this.css[i];for(var p in iNow)this.elements[i].setStyle(p,iCss[p].getValue(iNow[p],this.options.unit))}}});var XHR=new Class({options:{method:'post',async:true,onRequest:Class.empty,onStateChange:Class.empty,onSuccess:Class.empty,onFailure:Class.empty,headers:{}},initialize:function(options){this.transport=window.XMLHttpRequest?new XMLHttpRequest():(window.ie?new ActiveXObject('Microsoft.XMLHTTP'):false);this.setOptions(options);this.options.isSuccess=this.options.isSuccess||this.isSuccess;if(!this.transport)return;this.headers={};if(this.options.initialize)this.options.initialize.call(this)},onStateChange:function(){this.fireEvent('onStateChange',this.transport);if(this.transport.readyState!=4)return;var status=0;try{status=this.transport.status}catch(e){}if(this.options.isSuccess.call(this,status))this.onSuccess();else this.onFailure();this.transport.onreadystatechange=Class.empty},isSuccess:function(status){return((status>=200)&&(status<300))},onSuccess:function(){this.response={'text':this.transport.responseText,'xml':this.transport.responseXML};this.fireEvent('onSuccess',[this.response.text,this.response.xml]);this.callChain()},onFailure:function(){this.fireEvent('onFailure',this.transport)},setHeader:function(name,value){this.headers[name]=value;return this},send:function(url,data){this.fireEvent('onRequest');this.transport.open(this.options.method,url,this.options.async);this.transport.onreadystatechange=this.onStateChange.bind(this);if((this.options.method=='post')&&this.transport.overrideMimeType)this.setHeader('Connection','close');$extend(this.headers,this.options.headers);for(var type in this.headers)this.transport.setRequestHeader(type,this.headers[type]);this.transport.send(data);return this}});XHR.implement(new Chain);XHR.implement(new Events);XHR.implement(new Options);var Ajax=XHR.extend({options:{postBody:null,update:null,onComplete:Class.empty,evalScripts:false,evalResponse:false,encoding:'utf-8'},initialize:function(url,options){this.addEvent('onSuccess',this.onComplete);this.setOptions(options);this.parent(this.options);if(!['post','get'].test(this.options.method)){this._method='_method='+this.options.method;this.options.method='post'}if(this.options.method=='post'){var encoding=(this.options.encoding)?'; charset='+this.options.encoding:'';this.setHeader('Content-type','application/x-www-form-urlencoded'+encoding)}this.setHeader('X-Requested-With','XMLHttpRequest');this.setHeader('Accept','text/javascript, text/html, application/xml, text/xml, */*');this.url=url},onComplete:function(){if(this.options.update)$(this.options.update).setHTML(this.response.text);if(this.options.evalResponse)eval(this.response.text);if(this.options.evalScripts)this.evalScripts.delay(30,this);this.fireEvent('onComplete',[this.response.text,this.response.xml],20)},request:function(data){data=data||this.options.postBody;switch($type(data)){case'element':data=$(data).toQueryString();break;case'object':data=Object.toQueryString(data)}if(this._method)data=(data)?[this._method,data].join('&'):this._method;return this.send(this.url,data)},evalScripts:function(){var script,regexp=/<script[^>]*>([\s\S]*?)<\/script>/gi;while((script=regexp.exec(this.response.text)))eval(script[1])}});Object.toQueryString=function(source){var queryString=[];for(var property in source)queryString.push(encodeURIComponent(property)+'='+encodeURIComponent(source[property]));return queryString.join('&')};Element.extend({send:function(options){return new Ajax(this.getProperty('action'),$merge({postBody:this.toQueryString()},options,{method:'post'})).request()},toQueryString:function(){var queryString=[];$$(this.getElementsByTagName('input'),this.getElementsByTagName('select'),this.getElementsByTagName('textarea')).each(function(el){var name=$(el).name;var value=el.getValue();if(!el.disabled&&$chk(value)){var qs=function(val){queryString.push(name+'='+encodeURIComponent(val))};if($type(value)=='array')value.each(qs);else qs(value)}});return queryString.join('&')}});var Cookie={set:function(key,value,options){options=$merge({domain:false,path:false,duration:365},options);value=escape(value);if(options.domain)value+="; domain="+options.domain;if(options.path)value+="; path="+options.path;if(options.duration){var date=new Date();date.setTime(date.getTime()+(options.duration*86400000));value+="; expires="+date.toGMTString()}document.cookie=key+"="+value},get:function(key){var value=document.cookie.match('(?:^|;)\\s*'+key+'=([^;]*)');return value?unescape(value[1]):false},remove:function(key){this.set(key,'',{duration:-1})}};var Json={toString:function(obj){switch($type(obj)){case'string':return'"'+obj.replace(/(["\\])/g,'\\$1')+'"';case'array':return'['+obj.map(function(ar){return Json.toString(ar)}).join(',')+']';case'object':var string=[];for(var property in obj)string.push(Json.toString(property)+':'+Json.toString(obj[property]));return'{'+string.join(',')+'}'}return String(obj)},evaluate:function(str){return eval('('+str+')')}};Json.Remote=XHR.extend({initialize:function(url,options){this.url=url;this.addEvent('onSuccess',this.onComplete);this.parent(options);this.setHeader('X-Request','JSON')},send:function(obj){return this.parent(this.url,'json='+Json.toString(obj))},onComplete:function(){this.fireEvent('onComplete',Json.evaluate(this.response.text))}});var Accordion=Fx.Elements.extend({options:{onActive:Class.empty,onBackground:Class.empty,display:0,show:false,height:true,width:false,opacity:true,fixedHeight:false,fixedWidth:false,wait:false,alwaysHide:false},initialize:function(togglers,elements,options){this.setOptions(options);this.previous=-1;if(this.options.alwaysHide)this.options.wait=true;if($chk(this.options.show)){this.options.display=false;this.previous=this.options.show}if(this.options.start){this.options.display=false;this.options.show=false}this.togglers=$$(togglers);this.elements=$$(elements);this.togglers.each(function(tog,i){tog.addEvent('click',this.display.bind(this,i))},this);this.elements.each(function(el,i){if(this.options.height)el.setStyles({'padding-top':0,'border-top':'none','padding-bottom':0,'border-bottom':'none'});if(this.options.width)el.setStyles({'padding-left':0,'border-left':'none','padding-right':0,'border-right':'none'});el.fullOpacity=1;if(this.options.fixedWidth)el.fullWidth=this.options.fixedWidth;if(this.options.fixedHeight)el.fullHeight=this.options.fixedHeight;el.setStyle('overflow','hidden')},this);this.effects={};if(this.options.opacity)this.effects.opacity='fullOpacity';if(this.options.width)this.effects.width=this.options.fixedWidth?'fullWidth':'offsetWidth';if(this.options.height)this.effects.height=this.options.fixedHeight?'fullHeight':'scrollHeight';this.elements.each(function(el,i){if(this.options.show===i)this.fireEvent('onActive',[this.togglers[i],el]);else for(var fx in this.effects)el.setStyle(fx,0)},this);this.parent(this.elements,this.options);if($chk(this.options.display))this.display(this.options.display)},display:function(index){if((this.timer&&this.options.wait)||(index===this.previous&&!this.options.alwaysHide))return this;this.previous=index;var obj={};this.elements.each(function(el,i){obj[i]={};if((i!=index)||(this.options.alwaysHide&&(el.offsetHeight>0))){this.fireEvent('onBackground',[this.togglers[i],el]);for(var fx in this.effects)obj[i][fx]=0}else{this.fireEvent('onActive',[this.togglers[i],el]);for(var fx in this.effects)obj[i][fx]=el[this.effects[fx]]}},this);return this.start(obj)},showThisHideOpen:function(index){return this.display(index)}});Fx.Accordion=Accordion;var Prototype={Version:'CNET Prototype Lite, MooTools edition ver. 1.0',ScriptFragment:'(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)',emptyFunction:function(){},K:function(x){return x}};String.extend({camelize:function(){var oStringList=this.split('-');if(oStringList.length==1)return oStringList[0];var camelizedString=this.indexOf('-')==0?oStringList[0].charAt(0).toUpperCase()+oStringList[0].substring(1):oStringList[0];for(var i=1,len=oStringList.length;i<len;i++){var s=oStringList[i];camelizedString+=s.charAt(0).toUpperCase()+s.substring(1)}return camelizedString}});var Position={cumulativeOffset:function(element){return[Element.getTop(),Element.getLeft()]}};if(!window.Event){var Event=new Object()}Object.extend(Event,{element:function(event){return new Event(event).target()},stop:function(event){new Event(event).stop()},findElement:function(event,tagName){var element=new Event(event).target;while(element.parentNode&&(!element.tagName||(element.tagName.toUpperCase()!=tagName.toUpperCase())))element=element.parentNode;return element},observe:function(element,name,observer,useCapture){$(element).addEvent(name,observer)},stopObserving:function(element,name,observer,useCapture){$(element).removeEvent(name,observer)},onDOMReady:function(f){window.addEvent('domready',f)}});Object.extend(Element,{getDimensions:function(element){return $(element).getDimensions()},visible:function(element){return $(element).isEmpty()},visible:function(element){return $(element).visible()},toggle:function(element){return $(element).toggle()},hide:function(element){return $(element).hide()},show:function(element){return $(element).show()},cleanWhitespace:function(element){return $(element).cleanWhitespace()},find:function(element,what){return $(element).find(what)},replace:function(element,html){$(element).replace(html)},hasClassName:function(element,className){return $(element).hasClass(className)}});Ajax.Request=new Class({initialize:function(url,options){if(options.parameters)url+="?"+options.parameters;dbug.log('using legacy Ajax.Request object\n options: %1.o',options);if(options.onComplete){this.onCompleteFunction=options.onComplete;options.onSuccess=this.onComplete.bind(this)}if(options.onFailure){this.onFailureFunction=options.onComplete;options.onFailure=this.onFailure.bind(this)}this.ajax=new Ajax(url,options).request();this.transport=(ajax).transport},onComplete:function(){if(this.onCompleteFunction&&this.ajax.isSuccess(this.ajax.transport.status))this.onCompleteFunction(this.ajax.transport)},onFailure:function(){if(this.onFailureFunction&&!this.ajax.isSuccess(this.ajax.transport.status))this.onFailureFunction(this.ajax.transport)},request:function(url){this.ajax.request(url)},header:function(name){try{return this.ajax.transport.getResponseHeader(name)}catch(e){return null}},evalJSON:function(){try{return Json.evaluate(this.ajax.header('X-JSON'))}catch(e){return null}},evalResponse:function(){try{return Json.evaluate(this.ajax.transport.responseText)}catch(e){this.dispatchException(e);return null}},dispatchException:function(exception){(this.options.onException||Prototype.emptyFunction)(this,exception);Ajax.Responders.dispatch('onException',this,exception)}});Ajax.Updater=Ajax.Request.extend({initialize:function(container,url,options){if(options.parameters)url+="?"+options.parameters;dbug.log('using legacy Ajax.Updater object\n options: %1.o',options);this.options=options;this.onComplete=options.onComplete||Class.empty;this.options.onComplete=(function(transport,object){this.updateContent();this.onComplete(transport,object)}).bind(this);this.containers={success:container.success?$(container.success):$(container),failure:container.failure?$(container.failure):(container.success?null:$(container))};this.options.fireNow=false;this.ajax=new Ajax(url,this.options);this.transport=this.ajax.transport;this.ajax.request()},updateContent:function(){var receiver=this.ajax.isSuccess(this.ajax.transport.status)?this.containers.success:this.containers.failure;var response=this.transport.responseText;if(!this.options.evalScripts)response=response.stripScripts();if(receiver){$(receiver).setHTML(response)}}});String.extend({stripTags:function(){return this.replace(/<\/?[^>]+>/gi,'')},stripScripts:function(){return this.replace(/<script[^>]*?>.*?<\/script>/img,'')},evalScripts:function(){var scripts=this.match(/<script[^>]*?>.*?<\/script>/g);if(scripts)scripts.each(function(script){eval(script.replace(/^<script[^>]*?>/,'').replace(/<\/script>$/,''))})},replaceAll:function(searchValue,replaceValue,regExOptions){return this.replace(new RegExp(searchValue,$pick(regExOptions,'gi')),replaceValue)},urlEncode:function(){if(this.indexOf('%')>-1)return this;else return escape(this)},parseQuery:function(){var pairs=this.match(/^\??(.*)$/)[1].split('&');var params={};pairs.each(function(pair){pair=pair.split('=');params[pair[0]]=pair[1]});return params},tidy:function(){var txt=this.toString();$each({"[\xa0\u2002\u2003\u2009]":" ","\xb7":"*","[\u2018\u2019]":"'","[\u201c\u201d]":'"',"\u2026":"...","\u2013":"-","\u2014":"--"},function(value,key){txt=txt.replace(new RegExp(key,'g'),value)});return txt}});window.extend({isLoaded:window.loaded,getHost:function(url){url=$pick(url,window.location.href);var host=url;if(url.test('http://')){url=url.substring(url.indexOf('http://')+7,url.length);if(url.test(':'))url=url.substring(0,url.indexOf(":"));if(url.test('/'))return url.substring(0,url.indexOf('/'));return url}return false},getQueryStringValue:function(key,url){try{return window.getQueryStringValues(url)[key]}catch(e){return null}},getQueryStringValues:function(url){var qs=$pick(url,$pick(window.location.search,''));if(qs=="")return[];if(qs.indexOf("?")>=0)qs=qs.substring(qs.indexOf("?")+1,qs.length);return qs.parseQuery()},getPort:function(url){url=$pick(url,window.location.href);var re=new RegExp(':([0-9]{4})');var m=re.exec(url);if(m==null)return false;else{var port=false;m.each(function(val){if($chk(parseInt(val)))port=val})}return port},qs:{}});window.qs=window.getQueryStringValues();window.popup=new Class({options:{width:500,height:300,x:50,y:50,toolbar:0,location:0,directories:0,status:0,scrollbars:'auto',resizeable:1,name:'popup',onBlock:Class.empty},initialize:function(url,options){this.url=url||false;this.setOptions(options);if(this.url)this.openWin();return this},openWin:function(url){url=url||this.url;this.popupWindow=window.open(url,this.options.name,'toolbar="'+this.options.toolbar+'",location="'+this.options.location+'",directories="'+this.options.directories+'",status="'+this.options.status+'",scrollbars="'+this.options.scrollbars+'",resizable="'+this.options.resizeable+',width='+this.options.width+',height='+this.options.height+',top='+this.options.y+',left='+this.options.x);this.focus.delay(100,this);return this.popupWindow},focus:function(){if(this.popupWindow)this.popupWindow.focus();else if(this.focusTries<10)this.focus.delay(100,this);else{this.blocked=true;this.fireEvent('onBlock')}return this},focusTries:0,blocked:null,close:function(){this.popupWindow.close()}});window.popup.implement(new Options);window.popup.implement(new Events);var legacyPopup=window.popup.extend({setOptions:function(){this.parent();this.options=Object.extend({width:516,height:350},this.options)}});function openPop(url){return new legacyPopup(url)}var GetValue=window.getQueryStringValue;Element.extend({getDimensions:function(options){options=$merge({computeSize:false},options);var dim={};function getSize(el,options){if(options.computeSize)dim=el.getComputedSize(options);else{dim.width=el.getSize().size.x;dim.height=el.getSize().size.y}return dim}try{dim=getSize(this,options)}catch(e){}if((dim.x==0||$type(dim.x)!='number')||(dim.y==0||$type(dim.y)!='number')){var holder=new Element('div').setStyles({'position':'absolute','top':'-1000px','left':'-1000px','display':'block'}).injectAfter(this);var clone=this.clone().injectInside(holder).show();dim=getSize(clone,options);holder.remove()}return $merge(dim,{x:dim.width,y:dim.height})},getComputedSize:function(options){options=$merge({styles:['padding','border'],plains:{height:['top','bottom'],width:['left','right']},mode:'both'},options);var size={width:0,height:0};switch(options.mode){case'vertical':delete size.width;delete options.plains.width;break;case'horizontal':delete size.height;delete options.plains.height;break}var getStyles=[];$each(options.plains,function(plain,key){plain.each(function(edge){options.styles.each(function(style){getStyles.push((style=="border")?style+'-'+edge+'-'+'width':style+'-'+edge)})})});var styles=this.getStyles.apply(this,getStyles);var subtracted=[];$each(options.plains,function(plain,key){size['total'+key.capitalize()]=0;size['computed'+key.capitalize()]=0;plain.each(function(edge){size['computed'+edge.capitalize()]=0;getStyles.each(function(style,i){if(style.test(edge)){styles[style]=styles[style].toInt();if(isNaN(styles[style]))styles[style]=0;size['total'+key.capitalize()]=size['total'+key.capitalize()]+styles[style];size['computed'+edge.capitalize()]=size['computed'+edge.capitalize()]+styles[style]}if(style.test(edge)&&key!=style&&(style.test('border')||style.test('padding'))&&!subtracted.test(style)){subtracted.push(style);size['computed'+key.capitalize()]=size['computed'+key.capitalize()]-styles[style]}})})});if($chk(size.width)){size.width=size.width+this.offsetWidth+size.computedWidth;size.totalWidth=size.width+size.totalWidth;delete size.computedWidth}if($chk(size.height)){size.height=size.height+this.offsetHeight+size.computedHeight;size.totalHeight=size.height+size.totalHeight;delete size.computedHeight}return $merge(styles,size)},setPosition:function(options){options=$merge({relativeTo:document.body,position:'center',edge:false,offset:{x:0,y:0},smoothMove:false,effectOptions:{},returnPos:false},options);this.setStyle('position','absolute');var rel=$(options.relativeTo)||document.body;var top=(rel==document.body)?window.getScrollTop():rel.getTop();if(top<0)top=0;var left=(rel==document.body)?window.getScrollLeft():rel.getLeft();if(left<0)left=0;var dim=this.getDimensions({computeSize:true});var pos;var prefY=options.offset.y.toInt();var prefX=options.offset.x.toInt();switch(options.position){case'upperLeft':pos={x:(left+prefX),y:(top+prefY)};break;case'upperRight':pos={x:(left+prefX+rel.offsetWidth),y:(top+prefY)};break;case'bottomLeft':pos={x:(left+prefX),y:(top+prefY+rel.offsetHeight)};break;case'bottomRight':pos={y:(left+prefX+rel.offsetWidth),x:(top+prefY+rel.offsetHeight)};break;default:pos={x:left+(((rel==document.body)?window.getWidth():rel.offsetWidth)/2)+prefX,y:top+(((rel==document.body)?window.getHeight():rel.offsetHeight)/2)+prefY};options.edge="center";break}if(options.edge){var edgeOffset;switch(options.edge){case'upperLeft':edgeOffset={x:0,y:0};break;case'upperRight':edgeOffset={x:-dim.x-dim.computedRight-dim.computedLeft,y:0};break;case'bottomLeft':edgeOffset={x:0,y:-dim.y-dim.computedTop-dim.computedBottom};break;case'bottomRight':edgeOffset={x:-dim.x-dim.computedRight-dim.computedLeft,y:-dim.y-dim.computedTop-dim.computedBottom};break;default:edgeOffset={x:-(dim.x/2),y:-(dim.y/2)};break}pos.x=pos.x+edgeOffset.x;pos.y=pos.y+edgeOffset.y}pos={left:((pos.x>=0)?pos.x:0).toInt()+'px',top:((pos.y>=0)?pos.y:0).toInt()+'px'};if(options.returnPos)return pos;if(options.smoothMove&&this.effects)this.effects(options.effectOptions).start(pos);else this.setStyles(pos);return this},visible:function(){return this.getStyle('display')!='none'},toggle:function(){return this[this.visible()?'hide':'show']()},hide:function(){this.originalDisplay=this.getStyle('display');this.setStyle('display','none');return this},smoothHide:function(options){options=$merge({styles:['padding','border','margin'],mode:'vertical'},options);if(this.getStyle('display')!='none'){var startStyles=this.getComputedSize({styles:options.styles,mode:options.mode});if(this.fxOpacityOk())startStyles.opacity=1;var zero={};$each(startStyles,function(style,name){zero[name]=(name.test('width')||name.test('height'))?'0px':0;startStyles[name]=(name.test('width')||name.test('height'))?style+'px':style});this.effects(options).start(zero).chain(function(){this.setStyles(startStyles).setStyle('display','none')}.bind(this))}return this},smoothShow:function(options){if(arguments[1])options.heightOverride=arguments[1];options=$merge({styles:['padding','border','margin'],mode:'vertical'},options);if(this.getStyle('display')=="none"||this.getStyle('visiblity')=="hidden"||this.getStyle('opacity')==0){this.setStyle('display','block');if(this.fxOpacityOk())this.setStyle('opacity',0);var startStyles=this.getComputedSize({styles:options.styles,mode:options.mode});if(this.fxOpacityOk())startStyles.opacity=1;var zero={height:'0px'};$each(startStyles,function(style,name){zero[name]=(name.test('width')||name.test('height'))?'0px':0});this.setStyles(zero).effects(options).start(startStyles)}return this},show:function(display){this.originalDisplay=(this.originalDisplay=="none")?'block':this.originalDisplay;this.setStyle('display',(display||this.originalDisplay||'block'));return this},cleanWhitespace:function(){$A(this.childNodes).each(function(node){if(node.nodeType==3&&!/\S/.test(node.nodeValue))node.parentNode.removeChild(node)});return this},find:function(what){var element=this[what];while(element.nodeType!=1)element=element[what];return element},replace:function(html,evalScripts){if(this.outerHTML){this.outerHTML=html.stripScripts()}else{var range=this.ownerDocument.createRange();range.selectNodeContents(this);this.parentNode.replaceChild(range.createContextualFragment(html.stripScripts()),this)}if($pick(evalScripts,true))html.evalScripts.delay(10,html)},isEmpty:function(){return!!this.innerHTML.match(/^\s*$/)},getOffsetHeight:function(){return this.offsetWidth},getOffsetWidth:function(){return this.offsetWidth},tidy:function(){try{if(this.getValue().tidy())this.value=this.getValue().tidy()}catch(e){dbug.log('element.tidy error: %o',e)}},fxOpacityOk:function(){if(!window.ie6)return true;var isColor=false;try{if(new Color(this.getStyle('backgroundColor')))isColor=true}catch(e){}return isColor},isEmpty:function(){return this.childNodes.length==0}});if(typeof Mootools=="undefined"||!(Mootools&&Mootools.version&&Mootools.version.toFloat()>1)){Element.extend({empty:function(){return this.setHTML('')}})}var $S=$$;var legacyCookieFormat=function(key,value,duration){Cookie.set(key,value,{duration:duration})};var setCookie=legacyCookieFormat;var getCookie=Cookie.get;var writeCookie=legacyCookieFormat;var rbSetCookie=legacyCookieFormat;function rbGetCookie(key){var val=Cookie.get(key);if($type(val))return unescape(val);else return false}var ajax=new Class({initialize:function(url,options){this.ajax=new Ajax(url,options);if($pick(options.fireNow,true))this.ajax.request();return this.ajax}});var CNET_XHR=new Class({isSuccess:function(status){try{if(this.transport.readyState!=4||status=="undefined"||(status<200||status>=300))return false;if((!this.transport.responseText.test("COMPONENT_RESPONSE_CODE")||this.transport.responseText.test("COMPONENT_RESPONSE_CODE=200"))&&!this.transport.responseText.test("<title>Page Not Found")&&!this.transport.responseText.test('errorPageSearchForm')){dbug.log('ajax request successful');return true}dbug.log('ajax request failed');return false}catch(e){dbug.log('error: %o',e);return false}return false},responseIsSuccess:function(){return this.isSuccess(this.status)},responseIsFailure:function(){return!this.responseIsSuccess()}});XHR.implement(new CNET_XHR);Ajax.implement(new CNET_XHR);function fixPNG(myImage){try{var arVersion=navigator.appVersion.split("MSIE");var version=parseFloat(arVersion[1]);if((version>=5.5)&&(version<7)&&(document.body.filters)){myImage=$(myImage);var vis=myImage.visible();if(!vis)myImage.show();var width=$(myImage).offsetWidth;var height=$(myImage).offsetHeight;if(!vis)myImage.hide();var imgID=(myImage.id)?"id='"+myImage.id+"' ":"";var imgClass=(myImage.className)?"class='"+myImage.className+"' ":"";var imgTitle=(myImage.title)?"title='"+myImage.title+"' ":"title='"+myImage.alt+"' ";var imgStyle="display:inline-block;"+myImage.style.cssText;var strNewHTML="<span "+imgID+imgClass+imgTitle+" style=\""+"width:"+width+"px; height:"+height+"px;"+imgStyle+";"+"filter:progid:DXImageTransform.Microsoft.AlphaImageLoader"+"(src=\'"+myImage.src+"\', sizingMethod='scale');\"></span>";myImage.outerHTML=strNewHTML}}catch(e){}};if(window.ie6)window.onDomReady(function(){$$('img.fixPNG').each(function(png){fixPNG(png)})});var IframeShim=new Class({options:{element:false,name:'',className:'iframeShim',display:false,name:'',zindex:false,margin:0,offset:{x:0,y:0},browsers:(window.ie6||(window.gecko&&navigator.userAgent.test('mac','i')))},initialize:function(options){this.setOptions(options);dbug.log('browsers: %s',this.options.browsers);if(this.options.offset&&this.options.offset.top)this.options.offset.y=this.options.offset.top;if(this.options.offset&&this.options.offset.left)this.options.offset.x=this.options.offset.left;this.element=$(this.options.element);if(!this.element)return;else this.makeShim();return},makeShim:function(){this.shim=new Element('iframe');this.id=(this.options.name||new Date().getTime())+"_shim";if(this.element.getStyle('z-Index').toInt()<1||isNaN(this.element.getStyle('z-Index').toInt()))this.element.setStyle('z-Index',5);var z=this.element.getStyle('z-Index')-1;if($chk(this.options.zindex)&&this.element.getStyle('z-Index').toInt()>this.options.zindex)z=this.options.zindex;this.shim.setStyles({'position':'absolute','zIndex':z,'border':'none','filter':'progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)'}).setProperties({'src':'javascript:void(0);','frameborder':'0','scrolling':'no','id':this.id}).addClass(this.options.className);var inject=function(){this.shim.injectInside(document.body);if(this.options.display)this.show();else this.hide()};if(this.options.browsers){if(window.ie&&!IframeShim.ready){window.addEvent('onload',inject.bind(this))}else{inject.bind(this)()}}},position:function(shim){if(!this.options.browsers)return;var wasVis=this.element.getStyle('display')!='none';if(!wasVis)this.element.setStyle('display','block');var size=this.element.getSize().size;var pos=this.element.getPosition();if(!wasVis)this.element.setStyle('display','none');if($type(this.options.margin)){size.x=size.x-(this.options.margin*2);size.y=size.y-(this.options.margin*2);this.options.offset.x+=this.options.margin;this.options.offset.y+=this.options.margin}this.shim.setStyles({'width':size.x+'px','height':size.y+'px'}).setPosition({relativeTo:this.element,offset:this.options.offset})},hide:function(){if(!this.options.browsers)return;this.shim.setStyle('display','none')},show:function(){if(!this.options.browsers)return;this.shim.setStyle('display','block');this.position()},remove:function(){if(!this.options.browsers)return;this.shim.remove()}});IframeShim.implement(new Options);var iframeShim=IframeShim;window.addEvent('load',function(){IframeShim.ready=true});function imgMouseOverEvents(outString,overString,selector){$$(selector).each(function(image){image=$(image);if($type(image.src)){if(image.src.indexOf(outString)>0){image.addEvent('mouseover',function(){image.src=image.src.replace(outString,overString)}).addEvent('mouseout',function(){image.src=image.src.replace(overString,outString)})}}})};window.onDomReady(function(){imgMouseOverEvents('_off','_over','img.autoMouseOverOff, input.autoMouseOverOff')});window.onDomReady(function(){imgMouseOverEvents('_off','_on','img.autoMouseOver, input.autoMouseOver')});function tabMouseOvers(cssOn,cssOff,selector,subselector,applyToBoth){$$(selector).each(function(el){el.applyToBoth=$pick(applyToBoth,false);if(applyToBoth&&subselector){el.getElementsBySelector(subselector).each(function(el){el.addClass(cssOff).removeClass(cssOn)})}el.addClass(cssOff).removeClass(cssOn);el.addEvent('mouseover',function(){this.addClass(cssOn).removeClass(cssOff);if(applyToBoth&&subselector){this.getElementsBySelector(subselector).each(function(subel){subel.addClass(cssOn).removeClass(cssOff)})}});el.addEvent('mouseout',function(){this.addClass(cssOff).removeClass(cssOn);if(applyToBoth&&subselector){$A(this.getElementsBySelector(subselector)).each(function(subel){subel.addClass(cssOff).removeClass(cssOn)})}})})};var TabSwapper=new Class({options:{selectedClass:'tabSelected',mouseoverClass:'tabOver',deselectedClass:'',tabSelector:'',clickSelector:'',sectionSelector:'',initPanel:0,smooth:false,cookieName:null,cookieDays:999},initialize:function(options){this.setOptions(options);this.sectionOpacities=[];if(!$chk(this.options.clickSelector))this.options.clickSelector=this.options.tabSelector;this.setup();if(this.options.cookieName&&this.recall())this.swap(this.recall().toInt());else this.swap(this.options.initPanel)},setup:function(){var opt=this.options;$$(opt.clickSelector).each(function(lnk,idx){lnk.addEvent('click',function(){this.swap(idx)}.bind(this))},this);this.tabs=$$(opt.tabSelector);this.sections=$$(opt.sectionSelector);this.tabs.each(function(tab,i){tab.addEvent('mouseout',function(){tab.removeClass(this.options.mouseoverClass)}.bind(this)).addEvent('mouseover',function(){tab.addClass(this.options.mouseoverClass)}.bind(this))}.bind(this))},swap:function(swapIdx){this.sections.each(function(sect,idx){if(swapIdx==idx)this.showSection(idx);else this.hideSection(idx)},this);if(this.options.cookieName)this.save(swapIdx)},save:function(index){Cookie.set(this.options.cookieName,index,{duration:this.options.cookieDays})},recall:function(){return $pick(Cookie.get(this.options.cookieName),false)},hideSection:function(idx){this.sections[idx].hide();this.tabs[idx].removeClass(this.options.selectedClass).addClass(this.options.deselectedClass)},showSection:function(idx){var sect=this.sections[idx];if(!sect.visible()){if(!this.sectionOpacities[idx])this.sectionOpacities[idx]=this.sections[idx].effect('opacity',{duration:500});sect.show();if(this.options.smooth&&(!window.ie6||(window.ie6&&sect.fxOpacityOk())))this.sectionOpacities[idx].custom(0,1);else if(sect.getStyle('opacity')<1)this.sectionOpacities[idx].set(1)}this.tabs[idx].addClass(this.options.selectedClass).removeClass(this.options.deselectedClass)}});TabSwapper.implement(new Options);var tabSwapper=TabSwapper;var rbCookies=[];var LocalVars={UserVars:new Class({initialize:function(specs){specs=specs||{};this.sentSpecs=specs;this.userName=(specs.userName&&specs.userName.trim()!='')?specs.userName.trim():false;this.userNameDisplay=(this.userName)?unescape(this.userName.replaceAll('\\\+',' ')):false;this.ursRegId=specs.ursRegId||false;this.loggedIn=parseInt(specs.loggedIn)||false;this.rememberMe=parseInt(specs.rememberMe)||false;this.getAllCookies()},getAllCookies:function(){this.cookies=[];if(document.cookie){var cks=document.cookie.split("; ");cks.each(function(ck){var cook=ck.split("=");rbCookies[cook[0]]=cook[1]})}rbCookies=this.cookies}}),PageVars:new Class({initialize:function(specs){specs=specs||{};this.sentSpecs=specs;this.pageType=($chk(parseInt(specs.pageType)))?new Number(specs.pageType):false;this.nodeId=($chk(parseInt(specs.nodeId)))?new Number(specs.nodeId):false;this.channelId=($chk(parseInt(specs.channelId)))?new Number(specs.channelId):false;this.siteId=($chk(parseInt(specs.siteId)))?new Number(specs.siteId):false;this.assetId=($chk(parseInt(specs.assetId)))?new Number(specs.assetId):false;this.editionId=($chk(parseInt(specs.editionId)))?new Number(specs.editionId):false;this.setOid()},setOid:function(){this.oid=($chk(parseInt(this.pageType))&&$chk(parseInt(this.nodeId))&&$chk(parseInt(this.siteId))&&$chk(parseInt(this.assetId)))?this.pageType+"-"+this.nodeId+"_"+this.siteId+"-"+this.assetId:false}})};var UserVars={};var PageVars={};var LoginStatus=new Class({ssaIDs:[1,7,9,39,92],initialize:function(){try{this.retPath=escape(window.location.href);if(UserVars.loggedIn||UserVars.rememberMe){this.writeUserName();if(this.isSSA())this.genSSAProfileURL();if($('uloginIn'))$('uloginIn').show()}else{if(this.isSSA())this.primeApache();if($('uloginOut'))$('uloginOut').show();if($('uloginForm')){var loginShim=new IframeShim({element:'uloginForm',name:'uloginForm',display:false})}try{$('uloginPass').addEvent('keypress',function(e){if(new Event(e).key=="enter")$('uloginForm').submit()})}catch(e){}}this.writePathArgs();this.assignToggle('rb_login_cancel',loginShim);this.assignToggle('openLogIn',loginShim)}catch(e){dbug.log('LoginStatus init error: %o',e)}},isSSA:function(){return this.ssaIDs.test(PageVars.siteId)},writeUserName:function(){if(UserVars.userName){var profileLink=new Element('A');profileLink.appendText(UserVars.userNameDisplay).setProperties({id:'uniloginProfileName',href:$('uniloginProfile').href});if($('welcomeString'))$('welcomeString').appendText(', ').adopt(profileLink)}},genSSAProfileURL:function(){var profileURL=(UserVars.userName)?"http://my.cnet.com/community/"+UserVars.userName.replaceAll(' ','+')+"/?tag=unilog":"#";$('uniloginProfile').href=profileURL;try{$('uniloginProfileName').href=profileURL}catch(e){dbug.log(e)}},primeApache:function(){document.uloginForm.onsubmit=function(){new Ajax(document.uloginForm.action,{postBody:$(document.uloginForm).toQueryString(),async:false}).request()}},writePathArgs:function(){$$('#hd_unilogin a').each(function(anA){var sep=(anA.href.test(/\?/))?"&":"?";if(anA.href.test(/\/13\d{2}\-/))anA.href+=sep+"path="+this.retPath},this);try{var sep=($('uloginForm').action.test(/\?/))?"&":"?";$('uloginForm').action+=sep+"path="+this.retPath}catch(e){dbug.log("Attempting to add path to form action: %s",e)}},assignToggle:function(aLink,shim){if($(aLink)){$(aLink).href="javascript:void(0)";$(aLink).onclick=function(){if($('uloginForm').visible())document.uloginForm.reset();$('uloginForm').toggle();if($(shim.id).visible())shim.hide();else shim.show()}}}});function toggleLoginForm(){if($('uloginForm').visible())document.uloginForm.reset();$('uloginForm').toggle();if($('uloginForm_shim'))$('uloginForm_shim').toggle();return false};function rbSearch(options){try{this.options=Object.extend({host:window.getHost(),oId:PageVars.oid,siteId:PageVars.siteId,userAction:37},options||{});$(this.options.formId).getElements('input').each(function(input){if(!$type(input.id))input.id=options.formId+'_'+input.name});$(this.options.formId).getElements('select').each(function(input){if(!$type(input.id))input.id=options.formId+'_'+input.name});this.setSearchAction=function(){this.searchType=$(this.options.searchDropDownId)[$(this.options.searchDropDownId).selectedIndex].value;if(this.searchType=='nw'||this.searchType=='http://cnet.search.com/search?chkpt=astg.cnet.fd.search.cnet')this.options.userAction=98;if(this.searchType=='wb'||this.searchType=='http://www.search.com/search?chkpt=astg.cnet.fd.search.web')this.options.userAction=97;if(this.options.siteId=='39'){this.options.searchURL='http://www.search.com/redirect';this.searchType+='kw='+escape($(this.options.formId).q.value)}if(this.options.siteId=='32'){this.options.searchURL='/3607-5_32-0.html';if(this.searchType=='3608')this.options.searchURL='/3608-5_32-0.html';if(this.searchType=='dl-20'||this.searchType=='dl-2012'||this.searchType=='nw'||this.searchType=='wb')this.options.searchURL='/3120-20_4-0.html'}if(this.options.siteId=='9'){if(this.searchType=='sh')this.options.searchUrl='/4144-5_9-0.html';if(this.searchType=='nw'||this.searchType=='wb')this.options.searchUrl='http://www.search.com/redirect'}return $(this.options.searchDropDownId).name+"="+this.searchType+"&"};this.getFormValues=function(){var qs='';$(this.options.formId).getElements("input").each(function(input){if(input.type=="text"||input.type=="hidden")qs+=input.name+"="+input.value+"&"});if(this.options.siteId=='9'){if(this.searchType=='nw')qs+="target=http://cnet.search.com/search?chkpt=astg.cnet.fd.search.cnet&";if(this.searchType=='wb')qs+="target=http://www.search.com/search?chkpt=astg.cnet.fd.search.web&"}return qs.substring(0,qs.length-1)};this.makeSearchURL=function(){this.setSearchAction();this.action=this.options.searchURL.indexOf("http:")<0?this.options.host+this.options.searchURL:this.options.searchURL;var seperator="?";if(this.action.indexOf("?")>0)seperator="&";this.destURL=this.action+seperator+escape(this.setSearchAction())+escape(this.getFormValues());this.redirURL='http://dw.com.com/redir?usraction='+this.options.userAction;if(this.options.oId)this.redirURL+='&oId='+this.options.oId;if($chk(parseInt(this.options.siteId)))this.redirURL+='&siteId='+this.options.siteId;this.redirURL+='&destUrl='+this.destURL;dbug.log('search url: '+this.redirURL);return this.redirURL};var rbs=this;this.execute=function(){if(!window.location.href.test('jsdebugsearch=true'))window.location.href=rbs.makeSearchURL();else rbs.makeSearchURL()};this.execute()}catch(e){dbug.log('rbsearch error: %s',e)}};function sendSearchRedirect2(host,action,formId,searchTypeId,oId,siteId){rbSearch({host:host,searchURL:action,formId:formId,searchDropDownId:searchTypeId,oid:oId,siteid:siteId})};
/*	end packed code	*/

}