var tt_a=encodeURIComponent,tt_b=window,tt_c=_setIdProperty,tt_=document,tt_d=_attachEventListener;function tt_e(a,b){return a.className=b}var tt_f="appendChild",tt_g="push",tt_h="length",tt_i="prototype",tt_j="getElementById",tt_k="style",tt_l="createElement";var tt_m=tt_m||{},tt_n=this;var tt_o=function(a,b){var d=a.split("."),e=tt_n,c;if(!(d[0]in e)&&e.execScript)e.execScript("var "+d[0]);while(d[tt_h]&&(c=d.shift()))if(!d[tt_h]&&typeof b!="undefined")e[c]=b;else e=e[c]?e[c]:(e[c]={})};var tt_p=function(a,b){tt_o(a,b)},tt_q=function(a,b,d){a[b]=d};var tt_r=null,tt_s="",tt_t=function(a){tt_s=a},tt_u=function(){var a=tt_[tt_j]("userStatusMessage");if(a)tt_s=a.value},tt_v=function(){var a=tt_[tt_j]("userStatusMessage");if(a)a.value=tt_s},tt_x=function(){tt_c("statusMessageEdit","display","block");tt_c("statusMessageShow","display","none");tt_w(true)},tt_y=function(a){a=a||tt_b.event;if(a.stopPropagation)a.stopPropagation();else a.cancelBubble=true;if(a.preventDefault)a.preventDefault();else a.returnValue=false;tt_x()},tt_z=function(){tt_c("statusMessageEdit",
"display","none");tt_c("statusMessageShow","display","block")},tt_w=function(a){var b=tt_[tt_j]("userStatusMessage");if(b){b.focus();if(a)b.select()}},tt_A=function(a){var b=tt_[tt_j](a);if(b)tt_e(b,"smInputFocus")},tt_B=function(a){var b=tt_[tt_j](a);if(b)tt_e(b,"smInputBlur")},tt_C=function(){tt_v();tt_z()},tt_E=function(){var a=[];a[tt_g]("Action.editUserStatusMessage=1");a[tt_g]("POST_TOKEN="+JSHDF["CGI.POST_TOKEN"]);a[tt_g]("signature="+tt_a(JSHDF["Page.signature.raw"]));a[tt_g]("userStatus="+
tt_a(tt_[tt_j]("userStatusMessage").value));var b=_XH_XmlHttpCreate();_XH_XmlHttpPOST(b,tt_b.location.pathname,a.join("&"),function(){tt_D(b)})},tt_D=function(a){if(a.readyState!=4)return;if(a.status==204||a.status==1223)tt_z();else if(a.status==200){var b=tt_[tt_j]("smShownLabel");b.innerHTML=a.responseText;if(a.responseText==""){var d=tt_[tt_l]("span");tt_e(d,"smEmpty");d.innerHTML=JSHDF.smEmptyMsg;b[tt_f](d)}tt_u();tt_z()}},tt_F=function(a){a=a?a:tt_b.event;var b=a.keyCode;if(b==13||b==9){tt_E();
return false}return true},tt_G=function(a,b){var d=tt_[tt_j]("statusMessageNameMark"),e=tt_[tt_l]("img");e.src=b;var c=tt_[tt_l]("div");c[tt_k].display="inline";c[tt_k].position="absolute";c[tt_k].left=d.offsetLeft+(_isIE()?10:-10)+"px";c[tt_k].top=(_isIE()?-7:-10)+"px";c[tt_f](e);var f=tt_[tt_j](a);if(f)f[tt_f](c)},tt_H=function(a,b){var d=tt_[tt_j](a);if(!d)return;d.value+=b+" "},tt_J=function(){if(tt_r==null)tt_r=new tt_I("statusMsgSmPicker",JSHDF.smileySet,"sm_pp");return tt_r};tt_p("SM_setPreviousStatusMessage",
tt_t);tt_p("SM_saveLastStatus",tt_u);tt_p("SM_editStatusMessage",tt_x);tt_p("SM_restoreToLastStatus",tt_v);tt_p("SM_editStatusMessageOnClick",tt_y);tt_p("SM_showStatusMessage",tt_z);tt_p("SM_focusStatusMsg",tt_A);tt_p("SM_onblurStatusMsg",tt_B);tt_p("SM_resetStatusForm",tt_C);tt_p("SM_submitStatusChange",tt_E);tt_p("SM_onEditKeypress",tt_F);tt_p("SM_writeBalloonPointer",tt_G);tt_p("SM_getSmileyPicker",tt_J);var tt_K=function(a,b){this.image=a;this.text=b};tt_p("SM_Smiley",tt_K);var tt_I=function(a,
b,d){this.id=a;this.smileySet=b;this.smileysPerRow=3;this.relativeId=d},tt_L=function(a,b,d,e){tt_d(a,"click",function(){tt_H("userStatusMessage",e);var c=tt_[tt_j](d);if(c)tt_e(c,"sm_ip sipNormal");tt_c(b,"display","none");tt_w()});tt_d(a,"mouseover",function(){var c=tt_[tt_j](d);if(c)tt_e(c,"sm_ip sipSelected")});tt_d(a,"mouseout",function(){var c=tt_[tt_j](d);if(c)tt_e(c,"sm_ip sipNormal")})};tt_I[tt_i].c=function(){var a=tt_[tt_l]("div");tt_e(a,"smileyIconPickerPanel");a.id=this.id;a[tt_k].width=
21*this.smileysPerRow+(_isIE()?2:0)+"px";a[tt_k].left=(_isIE()?-2:2)-(21*this.smileysPerRow+4)+"px";a[tt_k].height=21*(1+Math.floor((this.smileySet[tt_h]-1)/this.smileysPerRow))+"px";for(var b=0;b<this.smileySet[tt_h];++b){var d=this.smileySet[b],e=this.id+"-sm"+b,c=tt_[tt_l]("div");tt_e(c,"sm_ip sipNormal");c.id=e;tt_L(c,this.id,e,d.text);var f=tt_[tt_l]("img");f.src=d.image;c[tt_f](f);a[tt_f](c)}var g=tt_[tt_j](this.relativeId);if(g)g[tt_f](a)};tt_I[tt_i].a=function(a){var b=this.id;tt_b.setTimeout(function(){tt_c(b,
"display","none")},a)};tt_I[tt_i].b=function(){var a=tt_[tt_j](this.id);if(a){var b=a[tt_k].display=="none"?"block":"none";a[tt_k].display=b}else this.c()};tt_p("SM_SmileyPicker",tt_I);tt_q(tt_I[tt_i],"addSmileyIconEvents",tt_I[tt_i].d);tt_q(tt_I[tt_i],"hideTimeout",tt_I[tt_i].a);tt_q(tt_I[tt_i],"toggleSmileysPanelVisibility",tt_I[tt_i].b);
